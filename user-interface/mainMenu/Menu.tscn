[gd_scene load_steps=10 format=3 uid="uid://bc4nkd6wbv6q3"]

[ext_resource type="Script" path="res://user-interface/mainMenu/Menu.gd" id="1"]
[ext_resource type="Script" path="res://user-interface/mainMenu/setting/Graphic.gd" id="2"]
[ext_resource type="Theme" path="res://user-interface/resource/Default.tres" id="3"]
[ext_resource type="Script" path="res://user-interface/control-node/FormatLabel.gd" id="5"]
[ext_resource type="Script" path="res://user-interface/mainMenu/setting/Audio.gd" id="6"]
[ext_resource type="Script" path="res://user-interface/control-node/UberButton.gd" id="8"]
[ext_resource type="Script" path="res://user-interface/mainMenu/setting/Controls.gd" id="9"]
[ext_resource type="Shortcut" path="res://user-interface/resource/escape.tres" id="10"]
[ext_resource type="Script" path="res://user-interface/mainMenu/level.gd" id="11"]

[node name="menu" type="Control"]
layout_mode = 3
anchors_preset = 0
theme = ExtResource("3")
script = ExtResource("1")

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0

[node name="Bgm" type="AudioStreamPlayer" parent="."]
autoplay = true

[node name="main" type="Control" parent="."]
use_parent_material = true
anchors_preset = 0
offset_right = 1920.0
offset_bottom = 1080.0

[node name="main" type="VBoxContainer" parent="main"]
layout_mode = 0
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 133.0
offset_top = -955.0
offset_right = 529.0
offset_bottom = -565.0

[node name="start" type="Button" parent="main/main"]
layout_mode = 2
focus_neighbor_left = NodePath("../quit")
focus_neighbor_top = NodePath("../quit")
focus_previous = NodePath("../quit")
focus_mode = 0
mouse_default_cursor_shape = 2
text = "Select level"
script = ExtResource("8")

[node name="settings" type="Button" parent="main/main"]
layout_mode = 2
focus_neighbor_right = NodePath("../credit")
focus_neighbor_bottom = NodePath("../credit")
focus_next = NodePath("../credit")
focus_mode = 0
mouse_default_cursor_shape = 2
text = "Settings"
script = ExtResource("8")

[node name="credit" type="Button" parent="main/main"]
layout_mode = 2
focus_neighbor_left = NodePath("../settings")
focus_neighbor_top = NodePath("../settings")
focus_neighbor_right = NodePath("../quit")
focus_neighbor_bottom = NodePath("../quit")
focus_next = NodePath("../quit")
focus_previous = NodePath("../settings")
focus_mode = 0
mouse_default_cursor_shape = 16
text = "Credits"
script = ExtResource("8")

[node name="quit" type="Button" parent="main/main"]
layout_mode = 2
focus_neighbor_left = NodePath("../credit")
focus_neighbor_top = NodePath("../credit")
focus_neighbor_right = NodePath("../start")
focus_neighbor_bottom = NodePath("../start")
focus_next = NodePath("../start")
focus_previous = NodePath("../credit")
focus_mode = 0
mouse_default_cursor_shape = 2
text = "Quit"
script = ExtResource("8")

[node name="setting" type="Control" parent="."]
custom_minimum_size = Vector2(1920, 1080)
anchors_preset = 0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -1920.0
offset_right = -1920.0

[node name="TabContainer" type="TabContainer" parent="setting"]
layout_mode = 0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 130.0
offset_top = 211.0
offset_right = -965.0
offset_bottom = -458.0

[node name="Graphic" type="VBoxContainer" parent="setting/TabContainer"]
layout_mode = 2
script = ExtResource("2")

[node name="fullscreen" type="CheckButton" parent="setting/TabContainer/Graphic"]
layout_mode = 2
focus_neighbor_left = NodePath("../reset")
focus_neighbor_top = NodePath("../reset")
focus_neighbor_right = NodePath("../borderless")
focus_neighbor_bottom = NodePath("../borderless")
focus_next = NodePath("../borderless")
focus_previous = NodePath("../reset")
focus_mode = 0
mouse_default_cursor_shape = 2
text = "Full Screen"
script = ExtResource("8")

[node name="borderless" type="CheckButton" parent="setting/TabContainer/Graphic"]
layout_mode = 2
focus_neighbor_left = NodePath("../fullscreen")
focus_neighbor_top = NodePath("../fullscreen")
focus_neighbor_right = NodePath("../rewind")
focus_neighbor_bottom = NodePath("../rewind")
focus_next = NodePath("../rewind")
focus_previous = NodePath("../fullscreen")
focus_mode = 0
mouse_default_cursor_shape = 2
text = "Borderless"
flat = true
script = ExtResource("8")

[node name="rewind" type="CheckButton" parent="setting/TabContainer/Graphic"]
layout_mode = 2
focus_neighbor_left = NodePath("../borderless")
focus_neighbor_top = NodePath("../borderless")
focus_neighbor_right = NodePath("../DynamicBackground")
focus_neighbor_bottom = NodePath("../DynamicBackground")
focus_next = NodePath("../DynamicBackground")
focus_previous = NodePath("../borderless")
focus_mode = 0
mouse_default_cursor_shape = 2
text = "Rewind effect on death"
flat = true
script = ExtResource("8")

[node name="DynamicBackground" type="CheckButton" parent="setting/TabContainer/Graphic"]
layout_mode = 2
focus_neighbor_left = NodePath("../rewind")
focus_neighbor_top = NodePath("../rewind")
focus_neighbor_right = NodePath("../particle")
focus_neighbor_bottom = NodePath("../particle")
focus_next = NodePath("../particle")
focus_previous = NodePath("../rewind")
focus_mode = 0
mouse_default_cursor_shape = 2
text = "Dynamic background"
flat = true
script = ExtResource("8")

[node name="particle" type="CheckButton" parent="setting/TabContainer/Graphic"]
layout_mode = 2
focus_neighbor_left = NodePath("../DynamicBackground")
focus_neighbor_top = NodePath("../DynamicBackground")
focus_neighbor_right = NodePath("../reset")
focus_neighbor_bottom = NodePath("../reset")
focus_next = NodePath("../reset")
focus_previous = NodePath("../DynamicBackground")
focus_mode = 0
mouse_default_cursor_shape = 2
text = "Full particles effect"
flat = true
script = ExtResource("8")

[node name="reset" type="Button" parent="setting/TabContainer/Graphic"]
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 0
focus_neighbor_left = NodePath("../particle")
focus_neighbor_top = NodePath("../particle")
focus_neighbor_right = NodePath("../fullscreen")
focus_neighbor_bottom = NodePath("../fullscreen")
focus_next = NodePath("../fullscreen")
focus_previous = NodePath("../particle")
focus_mode = 0
text = "Reset"
flat = true
script = ExtResource("8")

[node name="Controls" type="VBoxContainer" parent="setting/TabContainer"]
visible = false
layout_mode = 2
script = ExtResource("9")

[node name="drag" type="Button" parent="setting/TabContainer/Controls"]
layout_mode = 2
focus_neighbor_right = NodePath("../reset")
focus_neighbor_bottom = NodePath("../reset")
focus_next = NodePath("../reset")
focus_mode = 0
mouse_default_cursor_shape = 2
text = "Drag:          %s"
flat = true
script = ExtResource("8")

[node name="bomb" type="Button" parent="setting/TabContainer/Controls"]
layout_mode = 2
focus_neighbor_right = NodePath("../reset")
focus_neighbor_bottom = NodePath("../reset")
focus_next = NodePath("../reset")
focus_mode = 0
mouse_default_cursor_shape = 2
text = "Bomb:          %s"
flat = true
script = ExtResource("8")

[node name="raw" type="CheckButton" parent="setting/TabContainer/Controls"]
layout_mode = 2
size_flags_horizontal = 3
focus_mode = 0
text = "Raw Input"
flat = true
script = ExtResource("8")

[node name="SentivityLabel" type="Label" parent="setting/TabContainer/Controls"]
layout_mode = 2
text = "Input sentivity : %1.1f"
script = ExtResource("5")

[node name="sentivity" type="HSlider" parent="setting/TabContainer/Controls"]
layout_mode = 2
focus_mode = 0
min_value = 0.1
max_value = 2.0
step = 0.1
value = 2.0
allow_greater = true

[node name="reset" type="Button" parent="setting/TabContainer/Controls"]
layout_mode = 2
size_flags_horizontal = 8
focus_neighbor_left = NodePath("../bomb")
focus_neighbor_top = NodePath("../bomb")
focus_previous = NodePath("../bomb")
text = "Reset"
flat = true
script = ExtResource("8")

[node name="Audio" type="VBoxContainer" parent="setting/TabContainer"]
visible = false
layout_mode = 2
script = ExtResource("6")

[node name="BgmLabel" type="Label" parent="setting/TabContainer/Audio"]
layout_mode = 2
text = "Music: %d %%"
script = ExtResource("5")

[node name="bgm" type="HSlider" parent="setting/TabContainer/Audio"]
layout_mode = 2
size_flags_vertical = 1
focus_neighbor_left = NodePath("../reset")
focus_neighbor_top = NodePath("../reset")
focus_neighbor_right = NodePath("../muteBGM")
focus_neighbor_bottom = NodePath("../muteBGM")
focus_next = NodePath("../muteBGM")
focus_previous = NodePath("../reset")
min_value = -60.0
max_value = 30.0
step = 0.6
value = -60.0
allow_lesser = true
tick_count = 8

[node name="muteBGM" type="CheckButton" parent="setting/TabContainer/Audio"]
layout_mode = 2
size_flags_horizontal = 8
focus_neighbor_left = NodePath("../bgm")
focus_neighbor_top = NodePath("../bgm")
focus_neighbor_right = NodePath("../sfx")
focus_neighbor_bottom = NodePath("../sfx")
focus_next = NodePath("../sfx")
focus_previous = NodePath("../bgm")
text = "Mute"
script = ExtResource("8")

[node name="SfxLabel" type="Label" parent="setting/TabContainer/Audio"]
layout_mode = 2
focus_neighbor_left = NodePath("../bgm")
focus_neighbor_top = NodePath("../bgm")
focus_neighbor_right = NodePath("../muteSFX")
focus_neighbor_bottom = NodePath("../muteSFX")
focus_next = NodePath("../muteSFX")
focus_previous = NodePath("../bgm")
text = "Sound Effect: %d %%"
script = ExtResource("5")

[node name="sfx" type="HSlider" parent="setting/TabContainer/Audio"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 1
focus_neighbor_left = NodePath("../muteBGM")
focus_neighbor_top = NodePath("../muteBGM")
focus_neighbor_right = NodePath("../muteSFX")
focus_neighbor_bottom = NodePath("../muteSFX")
focus_next = NodePath("../muteSFX")
focus_previous = NodePath("../muteBGM")
min_value = -60.0
max_value = 30.0
step = 0.6
value = -60.0
allow_lesser = true
tick_count = 8

[node name="muteSFX" type="CheckButton" parent="setting/TabContainer/Audio"]
layout_mode = 2
size_flags_horizontal = 8
focus_neighbor_left = NodePath("../sfx")
focus_neighbor_top = NodePath("../sfx")
focus_neighbor_right = NodePath("../reset")
focus_neighbor_bottom = NodePath("../reset")
focus_next = NodePath("../reset")
focus_previous = NodePath("../sfx")
text = "Mute"
script = ExtResource("8")

[node name="reset" type="Button" parent="setting/TabContainer/Audio"]
layout_mode = 2
size_flags_horizontal = 8
focus_neighbor_left = NodePath("../muteSFX")
focus_neighbor_top = NodePath("../muteSFX")
focus_neighbor_right = NodePath("../bgm")
focus_neighbor_bottom = NodePath("../bgm")
focus_next = NodePath("../bgm")
focus_previous = NodePath("../muteSFX")
text = "Reset"
flat = true
script = ExtResource("8")

[node name="back" type="Button" parent="setting"]
layout_mode = 0
offset_left = 1695.0
offset_top = 40.0
offset_right = 1839.0
offset_bottom = 89.0
shortcut = ExtResource("10")
text = "Back >"
script = ExtResource("8")

[node name="level" type="Control" parent="."]
anchors_preset = 0
offset_left = 1920.0
offset_right = 3840.0
offset_bottom = 1080.0
script = ExtResource("11")

[node name="HBoxContainer2" type="HBoxContainer" parent="level"]
layout_mode = 0
anchor_left = 1.0
anchor_right = 1.0
offset_left = -1754.0
offset_top = 138.0
offset_right = -476.0
offset_bottom = 1042.0

[node name="list" type="VBoxContainer" parent="level/HBoxContainer2"]
layout_mode = 2

[node name="preview" type="TextureRect" parent="level/HBoxContainer2"]
custom_minimum_size = Vector2(646, 904)
layout_mode = 2

[node name="score" type="VBoxContainer" parent="level/HBoxContainer2"]
layout_mode = 2

[node name="HiScore" type="Label" parent="level/HBoxContainer2/score"]
layout_mode = 2
size_flags_vertical = 5
text = "Score:	%07d"
script = ExtResource("5")

[node name="Graze" type="Label" parent="level/HBoxContainer2/score"]
layout_mode = 2
size_flags_vertical = 5
text = "Graze:	%07d"
script = ExtResource("5")

[node name="item" type="Label" parent="level/HBoxContainer2/score"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 5
text = "Point:	%07d"
script = ExtResource("5")

[node name="retry" type="Label" parent="level/HBoxContainer2/score"]
layout_mode = 2
text = "Retry count : %d"
script = ExtResource("5")

[node name="Label" type="Label" parent="level/HBoxContainer2/score"]
layout_mode = 2
text = "-------Game setting-------"

[node name="Label2" type="Label" parent="level/HBoxContainer2/score"]
layout_mode = 2
text = "Shooting type:"

[node name="ShootType" type="OptionButton" parent="level/HBoxContainer2/score"]
layout_mode = 2
focus_mode = 0
action_mode = 1

[node name="duration" type="Label" parent="level/HBoxContainer2/score"]
layout_mode = 2
text = "Deathdoor duration %1.2f s"
script = ExtResource("5")

[node name="DurationSlider" type="HSlider" parent="level/HBoxContainer2/score"]
layout_mode = 2
min_value = 0.1
max_value = 1.0
step = 0.1
value = 0.3
tick_count = 10
ticks_on_borders = true

[node name="speed" type="Label" parent="level/HBoxContainer2/score"]
layout_mode = 2
text = "Game speed %d %%"
script = ExtResource("5")

[node name="SpeedSlider" type="HSlider" parent="level/HBoxContainer2/score"]
layout_mode = 2
min_value = 0.5
max_value = 2.0
step = 0.1
value = 1.0
tick_count = 16
ticks_on_borders = true

[node name="start" type="Button" parent="level/HBoxContainer2/score"]
layout_mode = 2
text = "Start"
script = ExtResource("8")

[node name="back" type="Button" parent="level"]
layout_mode = 0
offset_left = 87.0
offset_top = 41.0
offset_right = 243.0
offset_bottom = 96.0
shortcut = ExtResource("10")
text = "< Back"
script = ExtResource("8")

[connection signal="pressed" from="main/main/start" to="." method="_on_start_pressed"]
[connection signal="pressed" from="main/main/settings" to="." method="_on_settings_pressed"]
[connection signal="pressed" from="main/main/quit" to="." method="_on_quit_pressed"]
[connection signal="toggled" from="setting/TabContainer/Graphic/fullscreen" to="setting/TabContainer/Graphic" method="_on_fullscreen_toggled"]
[connection signal="toggled" from="setting/TabContainer/Graphic/borderless" to="setting/TabContainer/Graphic" method="_on_borderless_toggled"]
[connection signal="pressed" from="setting/TabContainer/Graphic/reset" to="setting/TabContainer/Graphic" method="_on_reset_pressed"]
[connection signal="pressed" from="setting/TabContainer/Controls/drag" to="setting/TabContainer/Controls" method="_on_drag_pressed"]
[connection signal="pressed" from="setting/TabContainer/Controls/bomb" to="setting/TabContainer/Controls" method="_on_bomb_pressed"]
[connection signal="value_changed" from="setting/TabContainer/Controls/sentivity" to="setting/TabContainer/Controls" method="_on_sentivity_value_changed"]
[connection signal="pressed" from="setting/TabContainer/Controls/reset" to="setting/TabContainer/Controls" method="_on_controls_reset_pressed"]
[connection signal="value_changed" from="setting/TabContainer/Audio/bgm" to="setting/TabContainer/Audio" method="_on_bgm_value_changed"]
[connection signal="toggled" from="setting/TabContainer/Audio/muteBGM" to="setting/TabContainer/Audio" method="_on_muteBGM_toggled"]
[connection signal="value_changed" from="setting/TabContainer/Audio/sfx" to="setting/TabContainer/Audio" method="_on_sfx_value_changed"]
[connection signal="toggled" from="setting/TabContainer/Audio/muteSFX" to="setting/TabContainer/Audio" method="_on_muteSFX_toggled"]
[connection signal="pressed" from="setting/TabContainer/Audio/reset" to="setting/TabContainer/Audio" method="_on_audio_reset_pressed"]
[connection signal="pressed" from="setting/back" to="." method="_on_back_pressed"]
[connection signal="pressed" from="level/HBoxContainer2/score/start" to="level" method="load_level"]
[connection signal="pressed" from="level/back" to="." method="_on_back_pressed"]
