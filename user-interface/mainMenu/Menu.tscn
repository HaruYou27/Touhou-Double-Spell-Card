[gd_scene load_steps=10 format=3 uid="uid://bcscmtllfgmex"]

[ext_resource type="Theme" uid="uid://dxmwch8d4tvvj" path="res://user-interface/resource/theme/Menu.tres" id="1_fll5i"]
[ext_resource type="Script" path="res://user-interface/mainMenu/Menu.gd" id="2_pnltk"]
[ext_resource type="Material" uid="uid://ca7e6iskdhovg" path="res://level/background/misty-lake/water-mat.tres" id="3_hxprb"]
[ext_resource type="Script" path="res://user-interface/control-node/SFXButton.gd" id="4_4sjp2"]
[ext_resource type="Texture2D" uid="uid://bgh4r80tk5o7v" path="res://level/background/misty-lake/water-noise.tres" id="5_pv030"]
[ext_resource type="PackedScene" path="res://level/background/misty-lake/fog.tscn" id="6_7alci"]
[ext_resource type="Theme" path="res://user-interface/resource/theme/popup.tres" id="7_1l57k"]
[ext_resource type="Script" path="res://user-interface/mainMenu/HostorJoin.gd" id="8_f7cl3"]
[ext_resource type="Script" path="res://user-interface/mainMenu/Host.gd" id="9_tgpgl"]

[node name="Menu" type="VBoxContainer" node_paths=PackedStringArray("modes", "host_join")]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("1_fll5i")
script = ExtResource("2_pnltk")
modes = NodePath("modes")
host_join = NodePath("HostorJoin")

[node name="Background" type="Node2D" parent="."]
self_modulate = Color(1, 0, 0.0156863, 1)
z_index = -4000

[node name="MistyLake" type="Sprite2D" parent="Background"]
texture_repeat = 2
material = ExtResource("3_hxprb")
texture = ExtResource("5_pv030")
centered = false

[node name="fog" parent="Background/MistyLake" instance=ExtResource("6_7alci")]

[node name="modes" type="OptionButton" parent="."]
layout_mode = 2
alignment = 1
item_count = 3
selected = 1
popup/item_0/text = "Single Reimu"
popup/item_0/id = 0
popup/item_1/text = "Co-op Reimu & Marisa "
popup/item_1/id = 1
popup/item_2/text = "Single Marisa"
popup/item_2/id = 2

[node name="HBoxContainer" type="HBoxContainer" parent="."]
layout_mode = 2
size_flags_vertical = 3

[node name="Button" type="Button" parent="HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "<"
flat = true
alignment = 0
script = ExtResource("4_4sjp2")

[node name="Button2" type="Button" parent="HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = ">"
flat = true
alignment = 2
script = ExtResource("4_4sjp2")

[node name="HBoxContainer2" type="HBoxContainer" parent="."]
layout_mode = 2

[node name="setting" type="Button" parent="HBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 3
text = "Settings"
script = ExtResource("4_4sjp2")

[node name="enter" type="Button" parent="HBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 3
text = "Enter"
script = ExtResource("4_4sjp2")

[node name="credits" type="Button" parent="HBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 3
text = "Credits"
script = ExtResource("4_4sjp2")

[node name="HostorJoin" type="ConfirmationDialog" parent="."]
transparent_bg = true
initial_position = 2
title = ""
size = Vector2i(720, 350)
wrap_controls = false
transient = false
exclusive = false
borderless = true
always_on_top = true
transparent = true
popup_window = true
theme = ExtResource("7_1l57k")
ok_button_text = "Join"
dialog_text = "Please connect to the same network with your friend."
dialog_hide_on_ok = false
dialog_autowrap = true
cancel_button_text = "Host"
script = ExtResource("8_f7cl3")

[node name="host" type="AcceptDialog" parent="."]
disable_3d = true
transparent_bg = true
initial_position = 2
title = ""
size = Vector2i(720, 497)
wrap_controls = false
transient = false
borderless = true
always_on_top = true
transparent = true
theme = ExtResource("7_1l57k")
ok_button_text = "Cancel"
dialog_text = "Please connect to the same network
IP: %s
Port: %d
Waiting for player"
dialog_autowrap = true
script = ExtResource("9_tgpgl")

[node name="Broadcast" type="Timer" parent="host"]

[node name="NetworkError" type="AcceptDialog" parent="."]
disable_3d = true
transparent_bg = true
initial_position = 2
size = Vector2i(720, 300)
wrap_controls = false
transient = false
exclusive = false
borderless = true
always_on_top = true
transparent = true
theme = ExtResource("7_1l57k")
dialog_text = "Please check your network connection"
dialog_autowrap = true

[connection signal="pressed" from="HBoxContainer2/enter" to="." method="_on_enter_pressed"]
[connection signal="timeout" from="host/Broadcast" to="host" method="_on_broadcast_timeout"]
